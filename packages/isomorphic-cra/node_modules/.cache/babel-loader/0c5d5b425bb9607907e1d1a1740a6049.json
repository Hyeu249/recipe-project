{"ast":null,"code":"var _jsxFileName = \"/home/tht-hieu/Desktop/template-copy/shared/containers/Invoice/SingleInvoice.js\";\nimport React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useRouteMatch, useParams } from \"react-router-dom\";\nimport EditInvoice from \"./EditInvoice\";\nimport ViewInvoice from \"./ViewInvoice\";\nimport Loader from \"@iso/components/utility/loader\";\nimport invoiceActions from \"@iso/redux/invoice/actions\";\nconst {\n  initData,\n  selectCurrentInvoice,\n  toggleView\n} = invoiceActions; // -----> actions\n\nexport default function SingleInvoice() {\n  const invoices = useSelector(state => state.Invoices); // -----> invoices\n\n  const dispatch = useDispatch();\n  const match = useRouteMatch(); // -----> current path\n\n  console.log(match);\n  const {\n    invoiceId\n  } = useParams();\n  const {\n    initialInvoices,\n    currentInvoice,\n    enableEditView\n  } = invoices;\n  React.useEffect(() => {\n    if (!initialInvoices) {\n      dispatch(initData());\n    }\n\n    toggleCreatedInvoice();\n  }); // componentWillReceiveProps(nextProps) {\n  //   this.toggleCreatedInvoice(nextProps);\n  // }\n\n  function toggleCreatedInvoice() {\n    if (initialInvoices && currentInvoice.id !== invoiceId) {\n      dispatch(selectCurrentInvoice(invoiceId));\n    }\n  }\n\n  const redirectPath = match.url.replace(invoiceId, \"\");\n\n  if (currentInvoice.id !== invoiceId) {\n    return /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 12\n      }\n    });\n  } else if (enableEditView) {\n    return /*#__PURE__*/React.createElement(EditInvoice, Object.assign({\n      toggleView: data => dispatch(toggleView(data))\n    }, invoices, {\n      redirectPath: redirectPath,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 7\n      }\n    }));\n  } else {\n    return /*#__PURE__*/React.createElement(ViewInvoice, Object.assign({}, invoices, {\n      toggleView: data => dispatch(toggleView(data)),\n      redirectPath: redirectPath,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 7\n      }\n    }));\n  }\n}","map":{"version":3,"sources":["/home/tht-hieu/Desktop/template-copy/shared/containers/Invoice/SingleInvoice.js"],"names":["React","useDispatch","useSelector","useRouteMatch","useParams","EditInvoice","ViewInvoice","Loader","invoiceActions","initData","selectCurrentInvoice","toggleView","SingleInvoice","invoices","state","Invoices","dispatch","match","console","log","invoiceId","initialInvoices","currentInvoice","enableEditView","useEffect","toggleCreatedInvoice","id","redirectPath","url","replace","data"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,aAAT,EAAwBC,SAAxB,QAAyC,kBAAzC;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,cAAP,MAA2B,4BAA3B;AACA,MAAM;AAAEC,EAAAA,QAAF;AAAYC,EAAAA,oBAAZ;AAAkCC,EAAAA;AAAlC,IAAiDH,cAAvD,C,CAAuE;;AACvE,eAAe,SAASI,aAAT,GAAyB;AACtC,QAAMC,QAAQ,GAAGX,WAAW,CAAEY,KAAD,IAAWA,KAAK,CAACC,QAAlB,CAA5B,CADsC,CACmB;;AACzD,QAAMC,QAAQ,GAAGf,WAAW,EAA5B;AACA,QAAMgB,KAAK,GAAGd,aAAa,EAA3B,CAHsC,CAGP;;AAC/Be,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACA,QAAM;AAAEG,IAAAA;AAAF,MAAgBhB,SAAS,EAA/B;AACA,QAAM;AAAEiB,IAAAA,eAAF;AAAmBC,IAAAA,cAAnB;AAAmCC,IAAAA;AAAnC,MAAsDV,QAA5D;AACAb,EAAAA,KAAK,CAACwB,SAAN,CAAgB,MAAM;AACpB,QAAI,CAACH,eAAL,EAAsB;AACpBL,MAAAA,QAAQ,CAACP,QAAQ,EAAT,CAAR;AACD;;AACDgB,IAAAA,oBAAoB;AACrB,GALD,EAPsC,CAatC;AACA;AACA;;AACA,WAASA,oBAAT,GAAgC;AAC9B,QAAIJ,eAAe,IAAIC,cAAc,CAACI,EAAf,KAAsBN,SAA7C,EAAwD;AACtDJ,MAAAA,QAAQ,CAACN,oBAAoB,CAACU,SAAD,CAArB,CAAR;AACD;AACF;;AACD,QAAMO,YAAY,GAAGV,KAAK,CAACW,GAAN,CAAUC,OAAV,CAAkBT,SAAlB,EAA6B,EAA7B,CAArB;;AACA,MAAIE,cAAc,CAACI,EAAf,KAAsBN,SAA1B,EAAqC;AACnC,wBAAO,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD,GAFD,MAEO,IAAIG,cAAJ,EAAoB;AACzB,wBACE,oBAAC,WAAD;AACE,MAAA,UAAU,EAAGO,IAAD,IAAUd,QAAQ,CAACL,UAAU,CAACmB,IAAD,CAAX;AADhC,OAEMjB,QAFN;AAGE,MAAA,YAAY,EAAEc,YAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADF;AAOD,GARM,MAQA;AACL,wBACE,oBAAC,WAAD,oBACMd,QADN;AAEE,MAAA,UAAU,EAAGiB,IAAD,IAAUd,QAAQ,CAACL,UAAU,CAACmB,IAAD,CAAX,CAFhC;AAGE,MAAA,YAAY,EAAEH,YAHhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADF;AAOD;AACF","sourcesContent":["import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useRouteMatch, useParams } from \"react-router-dom\";\nimport EditInvoice from \"./EditInvoice\";\nimport ViewInvoice from \"./ViewInvoice\";\nimport Loader from \"@iso/components/utility/loader\";\nimport invoiceActions from \"@iso/redux/invoice/actions\";\nconst { initData, selectCurrentInvoice, toggleView } = invoiceActions; // -----> actions\nexport default function SingleInvoice() {\n  const invoices = useSelector((state) => state.Invoices); // -----> invoices\n  const dispatch = useDispatch();\n  const match = useRouteMatch(); // -----> current path\n  console.log(match);\n  const { invoiceId } = useParams();\n  const { initialInvoices, currentInvoice, enableEditView } = invoices;\n  React.useEffect(() => {\n    if (!initialInvoices) {\n      dispatch(initData());\n    }\n    toggleCreatedInvoice();\n  });\n  // componentWillReceiveProps(nextProps) {\n  //   this.toggleCreatedInvoice(nextProps);\n  // }\n  function toggleCreatedInvoice() {\n    if (initialInvoices && currentInvoice.id !== invoiceId) {\n      dispatch(selectCurrentInvoice(invoiceId));\n    }\n  }\n  const redirectPath = match.url.replace(invoiceId, \"\");\n  if (currentInvoice.id !== invoiceId) {\n    return <Loader />;\n  } else if (enableEditView) {\n    return (\n      <EditInvoice\n        toggleView={(data) => dispatch(toggleView(data))}\n        {...invoices}\n        redirectPath={redirectPath}\n      />\n    );\n  } else {\n    return (\n      <ViewInvoice\n        {...invoices}\n        toggleView={(data) => dispatch(toggleView(data))}\n        redirectPath={redirectPath}\n      />\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}