{"ast":null,"code":"import Fuse from 'fuse.js';\nimport cloneDeep from 'lodash/cloneDeep';\nexport const filterSearchedComponents = (tasks = {}, columns = {}, searchText = '') => {\n  if (searchText !== '') {\n    let allTaskList = Object.values(tasks);\n    let fuse = new Fuse(allTaskList, {\n      shouldSort: true,\n      threshold: 0.6,\n      location: 0,\n      distance: 100,\n      maxPatternLength: 32,\n      minMatchCharLength: 1,\n      keys: ['title', 'labels', 'assignee']\n    });\n    let results = fuse.search(searchText);\n    const resultTasks = results.map(result => result.item).reduce((newTasks, task) => {\n      newTasks[task.id] = task;\n      return newTasks;\n    }, {});\n    const resolvedTaskIDs = Object.keys(resultTasks);\n    const newColumns = cloneDeep(columns);\n    Object.keys(newColumns).map(column => {\n      return newColumns[column].task_orders = newColumns[column].task_orders.filter(task_id => resolvedTaskIDs.includes(task_id));\n    });\n    return newColumns;\n  }\n\n  return columns;\n};","map":{"version":3,"sources":["/home/tht-hieu/Desktop/isomorphic-all/shared/library/helpers/searchTaskCard.js"],"names":["Fuse","cloneDeep","filterSearchedComponents","tasks","columns","searchText","allTaskList","Object","values","fuse","shouldSort","threshold","location","distance","maxPatternLength","minMatchCharLength","keys","results","search","resultTasks","map","result","item","reduce","newTasks","task","id","resolvedTaskIDs","newColumns","column","task_orders","filter","task_id","includes"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,SAAjB;AAEA,OAAOC,SAAP,MAAsB,kBAAtB;AAEA,OAAO,MAAMC,wBAAwB,GAAG,CACtCC,KAAK,GAAG,EAD8B,EAEtCC,OAAO,GAAG,EAF4B,EAGtCC,UAAU,GAAG,EAHyB,KAInC;AACH,MAAIA,UAAU,KAAK,EAAnB,EAAuB;AACrB,QAAIC,WAAW,GAAGC,MAAM,CAACC,MAAP,CAAcL,KAAd,CAAlB;AACA,QAAIM,IAAI,GAAG,IAAIT,IAAJ,CAASM,WAAT,EAAsB;AAC/BI,MAAAA,UAAU,EAAE,IADmB;AAE/BC,MAAAA,SAAS,EAAE,GAFoB;AAG/BC,MAAAA,QAAQ,EAAE,CAHqB;AAI/BC,MAAAA,QAAQ,EAAE,GAJqB;AAK/BC,MAAAA,gBAAgB,EAAE,EALa;AAM/BC,MAAAA,kBAAkB,EAAE,CANW;AAO/BC,MAAAA,IAAI,EAAE,CAAC,OAAD,EAAU,QAAV,EAAoB,UAApB;AAPyB,KAAtB,CAAX;AASA,QAAIC,OAAO,GAAGR,IAAI,CAACS,MAAL,CAAYb,UAAZ,CAAd;AACA,UAAMc,WAAW,GAAGF,OAAO,CACxBG,GADiB,CACZC,MAAD,IAAYA,MAAM,CAACC,IADN,EAEjBC,MAFiB,CAEV,CAACC,QAAD,EAAWC,IAAX,KAAoB;AAC1BD,MAAAA,QAAQ,CAACC,IAAI,CAACC,EAAN,CAAR,GAAoBD,IAApB;AACA,aAAOD,QAAP;AACD,KALiB,EAKf,EALe,CAApB;AAMA,UAAMG,eAAe,GAAGpB,MAAM,CAACS,IAAP,CAAYG,WAAZ,CAAxB;AACA,UAAMS,UAAU,GAAG3B,SAAS,CAACG,OAAD,CAA5B;AACAG,IAAAA,MAAM,CAACS,IAAP,CAAYY,UAAZ,EAAwBR,GAAxB,CAA6BS,MAAD,IAAY;AACtC,aAAQD,UAAU,CAACC,MAAD,CAAV,CAAmBC,WAAnB,GAAiCF,UAAU,CACjDC,MADiD,CAAV,CAEvCC,WAFuC,CAE3BC,MAF2B,CAEnBC,OAAD,IAAaL,eAAe,CAACM,QAAhB,CAAyBD,OAAzB,CAFO,CAAzC;AAGD,KAJD;AAMA,WAAOJ,UAAP;AACD;;AAED,SAAOxB,OAAP;AACD,CAnCM","sourcesContent":["import Fuse from 'fuse.js';\n\nimport cloneDeep from 'lodash/cloneDeep';\n\nexport const filterSearchedComponents = (\n  tasks = {},\n  columns = {},\n  searchText = ''\n) => {\n  if (searchText !== '') {\n    let allTaskList = Object.values(tasks);\n    let fuse = new Fuse(allTaskList, {\n      shouldSort: true,\n      threshold: 0.6,\n      location: 0,\n      distance: 100,\n      maxPatternLength: 32,\n      minMatchCharLength: 1,\n      keys: ['title', 'labels', 'assignee'],\n    });\n    let results = fuse.search(searchText);\n    const resultTasks = results\n      .map((result) => result.item)\n      .reduce((newTasks, task) => {\n        newTasks[task.id] = task;\n        return newTasks;\n      }, {});\n    const resolvedTaskIDs = Object.keys(resultTasks);\n    const newColumns = cloneDeep(columns);\n    Object.keys(newColumns).map((column) => {\n      return (newColumns[column].task_orders = newColumns[\n        column\n      ].task_orders.filter((task_id) => resolvedTaskIDs.includes(task_id)));\n    });\n\n    return newColumns;\n  }\n\n  return columns;\n};\n"]},"metadata":{},"sourceType":"module"}