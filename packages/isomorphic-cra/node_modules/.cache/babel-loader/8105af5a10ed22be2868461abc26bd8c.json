{"ast":null,"code":"import \"antd/es/pagination/style/css\";\nimport _Pagination from \"antd/es/pagination\";\nvar _jsxFileName = \"/home/tht-hieu/Desktop/recipe-project/shared/containers/Recipes/Recipes.js\";\nimport React from \"react\";\nimport FlipMove from \"react-flip-move\";\nimport throttle from \"lodash/throttle\";\nimport Toggle from \"./Toggle\";\nimport ListItem from \"./ShuffleList\";\nimport IntlMessages from \"@iso/components/utility/intlMessages\";\nimport { SortableCardWrapper } from \"./Shuffle.styles\";\nimport { BarsOutlined, AppstoreOutlined } from \"@ant-design/icons\";\nimport { useSelector } from \"react-redux\";\nimport { useRouteMatch } from \"react-router-dom\";\nexport default function () {\n  const {\n    recipeValues\n  } = useSelector(state => state.recipeValues);\n  const {\n    url\n  } = useRouteMatch();\n  const myUrl = url.split(\"/\")[2];\n  const myPublisher = recipeValues === null || recipeValues === void 0 ? void 0 : recipeValues.filter(recipe => {\n    var _recipe$publisher;\n\n    return ((_recipe$publisher = recipe.publisher) === null || _recipe$publisher === void 0 ? void 0 : _recipe$publisher.replaceAll(\" \", \"-\").toLowerCase()) === myUrl;\n  });\n  const articles = myPublisher.map(recipe => {\n    const randomNum = Math.floor(Math.random() * 1000) / 100;\n    return {\n      id: recipe.recipe_id,\n      publisher: recipe.publisher,\n      desc: recipe.title,\n      img: recipe.image_url,\n      publisherWebsite: recipe.source_url,\n      socialRank: randomNum + 90\n    };\n  });\n  const [state, setState] = React.useState({\n    removedArticles: [],\n    view: \"grid\",\n    order: \"asc\",\n    sortingMethod: \"chronological\",\n    enterLeaveAnimation: \"accordionVertical\",\n    articles\n  });\n\n  function toggleList() {\n    setState({ ...state,\n      view: \"list\",\n      enterLeaveAnimation: \"accordionVertical\"\n    });\n  }\n\n  function toggleGrid() {\n    setState({ ...state,\n      view: \"grid\",\n      enterLeaveAnimation: \"accordionHorizontal\"\n    });\n  }\n\n  function moveArticle(source, dest, id) {\n    const sourceArticles = state[source].slice();\n    let destArticles = state[dest].slice();\n    if (!sourceArticles.length) return; // Find the index of the article clicked.\n    // If no ID is provided, the index is 0\n\n    const i = id ? sourceArticles.findIndex(article => article.id === id) : 0;\n    console.log(i); // If the article is already removed, do nothing.\n\n    if (i === -1) return;\n    destArticles = [].concat(sourceArticles.splice(i, 1), destArticles);\n    setState({ ...state,\n      [source]: sourceArticles,\n      [dest]: destArticles\n    });\n  }\n\n  function renderArticles() {\n    return state.articles.map((article, i) => {\n      return /*#__PURE__*/React.createElement(ListItem, Object.assign({\n        key: article.id,\n        view: state.view,\n        index: i,\n        clickHandler: throttle(() => moveArticle(\"articles\", \"removedArticles\", article.id), 800)\n      }, article, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 9\n        }\n      }));\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(SortableCardWrapper, {\n    id: \"shuffle\",\n    className: `isomorphicSortableCardsHolder ${state.view}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"isoControlBar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"isoViewBtnGroup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Toggle, {\n    style: {\n      backgroundColor: \"red\"\n    },\n    clickHandler: toggleList,\n    text: /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"toggle.list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 19\n      }\n    }),\n    icon: /*#__PURE__*/React.createElement(BarsOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 19\n      }\n    }),\n    active: state.view === \"list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Toggle, {\n    style: {\n      backgroundColor: \"blue\"\n    },\n    clickHandler: toggleGrid,\n    text: /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"toggle.grid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 19\n      }\n    }),\n    icon: /*#__PURE__*/React.createElement(AppstoreOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 19\n      }\n    }),\n    active: state.view === \"grid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }, \" \", /*#__PURE__*/React.createElement(_Pagination, {\n    total: 10,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"isoSortableCardsContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FlipMove, {\n    staggerDurationBy: \"30\",\n    duration: 500,\n    enterAnimation: state.enterLeaveAnimation,\n    leaveAnimation: state.enterLeaveAnimation,\n    typeName: \"ul\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  }, renderArticles())));\n}","map":{"version":3,"sources":["/home/tht-hieu/Desktop/recipe-project/shared/containers/Recipes/Recipes.js"],"names":["React","FlipMove","throttle","Toggle","ListItem","IntlMessages","SortableCardWrapper","BarsOutlined","AppstoreOutlined","useSelector","useRouteMatch","recipeValues","state","url","myUrl","split","myPublisher","filter","recipe","publisher","replaceAll","toLowerCase","articles","map","randomNum","Math","floor","random","id","recipe_id","desc","title","img","image_url","publisherWebsite","source_url","socialRank","setState","useState","removedArticles","view","order","sortingMethod","enterLeaveAnimation","toggleList","toggleGrid","moveArticle","source","dest","sourceArticles","slice","destArticles","length","i","findIndex","article","console","log","concat","splice","renderArticles","backgroundColor"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport FlipMove from \"react-flip-move\";\nimport throttle from \"lodash/throttle\";\nimport Toggle from \"./Toggle\";\nimport ListItem from \"./ShuffleList\";\nimport IntlMessages from \"@iso/components/utility/intlMessages\";\nimport { SortableCardWrapper } from \"./Shuffle.styles\";\nimport { BarsOutlined, AppstoreOutlined } from \"@ant-design/icons\";\n\nimport { useSelector } from \"react-redux\";\nimport { useRouteMatch } from \"react-router-dom\";\nimport { Pagination } from \"antd\";\n\nexport default function () {\n  const { recipeValues } = useSelector((state) => state.recipeValues);\n  const { url } = useRouteMatch();\n\n  const myUrl = url.split(\"/\")[2];\n  const myPublisher = recipeValues?.filter((recipe) => {\n    return recipe.publisher?.replaceAll(\" \", \"-\").toLowerCase() === myUrl;\n  });\n\n  const articles = myPublisher.map((recipe) => {\n    const randomNum = Math.floor(Math.random() * 1000) / 100;\n\n    return {\n      id: recipe.recipe_id,\n      publisher: recipe.publisher,\n      desc: recipe.title,\n      img: recipe.image_url,\n      publisherWebsite: recipe.source_url,\n      socialRank: randomNum + 90,\n    };\n  });\n\n  const [state, setState] = React.useState({\n    removedArticles: [],\n    view: \"grid\",\n    order: \"asc\",\n    sortingMethod: \"chronological\",\n    enterLeaveAnimation: \"accordionVertical\",\n    articles,\n  });\n\n  function toggleList() {\n    setState({\n      ...state,\n      view: \"list\",\n      enterLeaveAnimation: \"accordionVertical\",\n    });\n  }\n\n  function toggleGrid() {\n    setState({\n      ...state,\n      view: \"grid\",\n      enterLeaveAnimation: \"accordionHorizontal\",\n    });\n  }\n\n  function moveArticle(source, dest, id) {\n    const sourceArticles = state[source].slice();\n    let destArticles = state[dest].slice();\n    if (!sourceArticles.length) return;\n\n    // Find the index of the article clicked.\n    // If no ID is provided, the index is 0\n    const i = id ? sourceArticles.findIndex((article) => article.id === id) : 0;\n\n    console.log(i);\n    // If the article is already removed, do nothing.\n    if (i === -1) return;\n\n    destArticles = [].concat(sourceArticles.splice(i, 1), destArticles);\n\n    setState({\n      ...state,\n      [source]: sourceArticles,\n      [dest]: destArticles,\n    });\n  }\n\n  function renderArticles() {\n    return state.articles.map((article, i) => {\n      return (\n        <ListItem\n          key={article.id}\n          view={state.view}\n          index={i}\n          clickHandler={throttle(\n            () => moveArticle(\"articles\", \"removedArticles\", article.id),\n            800\n          )}\n          {...article}\n        />\n      );\n    });\n  }\n\n  return (\n    <SortableCardWrapper\n      id=\"shuffle\"\n      className={`isomorphicSortableCardsHolder ${state.view}`}\n    >\n      <header className=\"isoControlBar\">\n        <div className=\"isoViewBtnGroup\">\n          <Toggle\n            style={{ backgroundColor: \"red\" }}\n            clickHandler={toggleList}\n            text={<IntlMessages id=\"toggle.list\" />}\n            icon={<BarsOutlined />}\n            active={state.view === \"list\"}\n          />\n          <Toggle\n            style={{ backgroundColor: \"blue\" }}\n            clickHandler={toggleGrid}\n            text={<IntlMessages id=\"toggle.grid\" />}\n            icon={<AppstoreOutlined />}\n            active={state.view === \"grid\"}\n          />\n        </div>\n      </header>\n      <div>\n        {\" \"}\n        <Pagination total={10} />\n      </div>\n\n      <div className=\"isoSortableCardsContainer\">\n        <FlipMove\n          staggerDurationBy=\"30\"\n          duration={500}\n          enterAnimation={state.enterLeaveAnimation}\n          leaveAnimation={state.enterLeaveAnimation}\n          typeName=\"ul\"\n        >\n          {renderArticles()}\n        </FlipMove>\n      </div>\n    </SortableCardWrapper>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}