{"ast":null,"code":"var _jsxFileName = \"/home/tht-hieu/Desktop/template-copy/shared/containers/Shuffle/Shuffle.js\";\nimport React, { useEffect } from \"react\";\nimport FlipMove from \"react-flip-move\";\nimport shuffle from \"lodash/shuffle\";\nimport throttle from \"lodash/throttle\";\nimport articles from \"./config\";\nimport Toggle from \"./Toggle\";\nimport ListItem from \"./ShuffleList\";\nimport IntlMessages from \"@iso/components/utility/intlMessages\";\nimport { SortableCardWrapper } from \"./Shuffle.styles\";\nimport { AddIcon, CloseIcon } from \"@iso/config/icon.config\";\nimport { BarsOutlined, AppstoreOutlined, UpOutlined, DownOutlined, ShakeOutlined, ReloadOutlined } from \"@ant-design/icons\";\nexport default function () {\n  useEffect(() => {\n    const imageUrl = \"https://random.dog/doggos\";\n    fetch(imageUrl).then(response => response.json()).then(imageBlob => {\n      state.articles.forEach((article, i) => {\n        article.img = imageBlob[i];\n      }); // console.log(state.articles);\n\n      setState(state => {\n        return { ...state,\n          articles: state.articles.map((article, i) => {\n            article.img = imageBlob[i];\n            return article;\n          })\n        };\n      });\n    });\n  }, []);\n  const [state, setState] = React.useState({\n    removedArticles: [],\n    view: \"grid\",\n    order: \"asc\",\n    sortingMethod: \"chronological\",\n    enterLeaveAnimation: \"accordionVertical\",\n    articles\n  });\n  console.log(state);\n\n  function toggleList() {\n    setState({ ...state,\n      view: \"list\",\n      enterLeaveAnimation: \"accordionVertical\"\n    });\n  }\n\n  function toggleGrid() {\n    setState({ ...state,\n      view: \"grid\",\n      enterLeaveAnimation: \"accordionHorizontal\"\n    });\n  }\n\n  function toggleSort() {\n    const sortAsc = (a, b) => a.timestamp - b.timestamp;\n\n    const sortDesc = (a, b) => b.timestamp - a.timestamp;\n\n    setState({ ...state,\n      order: state.order === \"asc\" ? \"desc\" : \"asc\",\n      sortingMethod: \"chronological\",\n      articles: state.articles.sort(state.order === \"asc\" ? sortDesc : sortAsc)\n    });\n  }\n\n  function sortShuffle() {\n    setState({ ...state,\n      sortingMethod: \"shuffle\",\n      articles: shuffle(state.articles)\n    });\n  }\n\n  function moveArticle(source, dest, id) {\n    const sourceArticles = state[source].slice();\n    let destArticles = state[dest].slice();\n    if (!sourceArticles.length) return; // Find the index of the article clicked.\n    // If no ID is provided, the index is 0\n\n    const i = id ? sourceArticles.findIndex(article => article.id === id) : 0;\n    console.log(i); // If the article is already removed, do nothing.\n\n    if (i === -1) return;\n    destArticles = [].concat(sourceArticles.splice(i, 1), destArticles);\n    setState({ ...state,\n      [source]: sourceArticles,\n      [dest]: destArticles\n    });\n  }\n\n  function sortRotate() {\n    const articles = state.articles.slice();\n    articles.unshift(articles.pop());\n    setState({ ...state,\n      sortingMethod: \"rotate\",\n      articles\n    });\n  }\n\n  function renderArticles() {\n    return state.articles.map((article, i) => {\n      return /*#__PURE__*/React.createElement(ListItem, Object.assign({\n        key: article.id,\n        view: state.view,\n        index: i,\n        clickHandler: throttle(() => moveArticle(\"articles\", \"removedArticles\", article.id), 800)\n      }, article, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 9\n        }\n      }));\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(SortableCardWrapper, {\n    id: \"shuffle\",\n    className: `isomorphicSortableCardsHolder ${state.view}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"isoControlBar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"isoViewBtnGroup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Toggle, {\n    clickHandler: toggleList,\n    text: /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"toggle.list\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 19\n      }\n    }),\n    icon: /*#__PURE__*/React.createElement(BarsOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 19\n      }\n    }),\n    active: state.view === \"list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Toggle, {\n    clickHandler: toggleGrid,\n    text: /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"toggle.grid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 19\n      }\n    }),\n    icon: /*#__PURE__*/React.createElement(AppstoreOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 19\n      }\n    }),\n    active: state.view === \"grid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"isoControlBtnGroup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Toggle, {\n    clickHandler: toggleSort,\n    text: state.order === \"asc\" ? /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"toggle.ascending\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 17\n      }\n    }) : /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"toggle.descending\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 17\n      }\n    }),\n    icon: state.order === \"asc\" ? /*#__PURE__*/React.createElement(UpOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 43\n      }\n    }) : /*#__PURE__*/React.createElement(DownOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 60\n      }\n    }),\n    active: state.sortingMethod === \"chronological\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Toggle, {\n    clickHandler: sortShuffle,\n    text: /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"toggle.shuffle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 19\n      }\n    }),\n    icon: /*#__PURE__*/React.createElement(ShakeOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 19\n      }\n    }),\n    active: state.sortingMethod === \"shuffle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Toggle, {\n    clickHandler: sortRotate,\n    text: /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"toggle.rotate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 19\n      }\n    }),\n    icon: /*#__PURE__*/React.createElement(ReloadOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 19\n      }\n    }),\n    active: state.sortingMethod === \"rotate\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"isoSortableCardsContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FlipMove, {\n    staggerDurationBy: \"30\",\n    duration: 500,\n    enterAnimation: state.enterLeaveAnimation,\n    leaveAnimation: state.enterLeaveAnimation,\n    typeName: \"ul\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 9\n    }\n  }, renderArticles(), /*#__PURE__*/React.createElement(\"footer\", {\n    key: \"foot\",\n    className: \"isoAddRemoveControlBar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"isoControlBtnGroup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Toggle, {\n    clickHandler: () => moveArticle(\"removedArticles\", \"articles\"),\n    text: /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"toggle.addItem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 23\n      }\n    }),\n    icon: /*#__PURE__*/React.createElement(AddIcon, {\n      size: 16,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 23\n      }\n    }),\n    active: state.removedArticles.length > 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Toggle, {\n    clickHandler: () => moveArticle(\"articles\", \"removedArticles\"),\n    text: /*#__PURE__*/React.createElement(IntlMessages, {\n      id: \"toggle.removeItem\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 23\n      }\n    }),\n    icon: /*#__PURE__*/React.createElement(CloseIcon, {\n      size: 16,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 23\n      }\n    }),\n    active: state.articles.length > 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 15\n    }\n  }))))));\n}","map":{"version":3,"sources":["/home/tht-hieu/Desktop/template-copy/shared/containers/Shuffle/Shuffle.js"],"names":["React","useEffect","FlipMove","shuffle","throttle","articles","Toggle","ListItem","IntlMessages","SortableCardWrapper","AddIcon","CloseIcon","BarsOutlined","AppstoreOutlined","UpOutlined","DownOutlined","ShakeOutlined","ReloadOutlined","imageUrl","fetch","then","response","json","imageBlob","state","forEach","article","i","img","setState","map","useState","removedArticles","view","order","sortingMethod","enterLeaveAnimation","console","log","toggleList","toggleGrid","toggleSort","sortAsc","a","b","timestamp","sortDesc","sort","sortShuffle","moveArticle","source","dest","id","sourceArticles","slice","destArticles","length","findIndex","concat","splice","sortRotate","unshift","pop","renderArticles"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport FlipMove from \"react-flip-move\";\nimport shuffle from \"lodash/shuffle\";\nimport throttle from \"lodash/throttle\";\nimport articles from \"./config\";\nimport Toggle from \"./Toggle\";\nimport ListItem from \"./ShuffleList\";\nimport IntlMessages from \"@iso/components/utility/intlMessages\";\nimport { SortableCardWrapper } from \"./Shuffle.styles\";\nimport { AddIcon, CloseIcon } from \"@iso/config/icon.config\";\nimport {\n  BarsOutlined,\n  AppstoreOutlined,\n  UpOutlined,\n  DownOutlined,\n  ShakeOutlined,\n  ReloadOutlined,\n} from \"@ant-design/icons\";\nexport default function () {\n  useEffect(() => {\n    const imageUrl = \"https://random.dog/doggos\";\n\n    fetch(imageUrl)\n      .then((response) => response.json())\n      .then((imageBlob) => {\n        state.articles.forEach((article, i) => {\n          article.img = imageBlob[i];\n        });\n        // console.log(state.articles);\n\n        setState((state) => {\n          return {\n            ...state,\n            articles: state.articles.map((article, i) => {\n              article.img = imageBlob[i];\n              return article;\n            }),\n          };\n        });\n      });\n  }, []);\n  const [state, setState] = React.useState({\n    removedArticles: [],\n    view: \"grid\",\n    order: \"asc\",\n    sortingMethod: \"chronological\",\n    enterLeaveAnimation: \"accordionVertical\",\n    articles,\n  });\n  console.log(state);\n\n  function toggleList() {\n    setState({\n      ...state,\n      view: \"list\",\n      enterLeaveAnimation: \"accordionVertical\",\n    });\n  }\n\n  function toggleGrid() {\n    setState({\n      ...state,\n      view: \"grid\",\n      enterLeaveAnimation: \"accordionHorizontal\",\n    });\n  }\n\n  function toggleSort() {\n    const sortAsc = (a, b) => a.timestamp - b.timestamp;\n    const sortDesc = (a, b) => b.timestamp - a.timestamp;\n\n    setState({\n      ...state,\n      order: state.order === \"asc\" ? \"desc\" : \"asc\",\n      sortingMethod: \"chronological\",\n      articles: state.articles.sort(state.order === \"asc\" ? sortDesc : sortAsc),\n    });\n  }\n\n  function sortShuffle() {\n    setState({\n      ...state,\n      sortingMethod: \"shuffle\",\n      articles: shuffle(state.articles),\n    });\n  }\n  function moveArticle(source, dest, id) {\n    const sourceArticles = state[source].slice();\n    let destArticles = state[dest].slice();\n    if (!sourceArticles.length) return;\n\n    // Find the index of the article clicked.\n    // If no ID is provided, the index is 0\n    const i = id ? sourceArticles.findIndex((article) => article.id === id) : 0;\n\n    console.log(i);\n    // If the article is already removed, do nothing.\n    if (i === -1) return;\n\n    destArticles = [].concat(sourceArticles.splice(i, 1), destArticles);\n\n    setState({\n      ...state,\n      [source]: sourceArticles,\n      [dest]: destArticles,\n    });\n  }\n\n  function sortRotate() {\n    const articles = state.articles.slice();\n    articles.unshift(articles.pop());\n\n    setState({\n      ...state,\n      sortingMethod: \"rotate\",\n      articles,\n    });\n  }\n\n  function renderArticles() {\n    return state.articles.map((article, i) => {\n      return (\n        <ListItem\n          key={article.id}\n          view={state.view}\n          index={i}\n          clickHandler={throttle(\n            () => moveArticle(\"articles\", \"removedArticles\", article.id),\n            800\n          )}\n          {...article}\n        />\n      );\n    });\n  }\n\n  return (\n    <SortableCardWrapper\n      id=\"shuffle\"\n      className={`isomorphicSortableCardsHolder ${state.view}`}\n    >\n      <header className=\"isoControlBar\">\n        <div className=\"isoViewBtnGroup\">\n          <Toggle\n            clickHandler={toggleList}\n            text={<IntlMessages id=\"toggle.list\" />}\n            icon={<BarsOutlined />}\n            active={state.view === \"list\"}\n          />\n          <Toggle\n            clickHandler={toggleGrid}\n            text={<IntlMessages id=\"toggle.grid\" />}\n            icon={<AppstoreOutlined />}\n            active={state.view === \"grid\"}\n          />\n        </div>\n\n        <div className=\"isoControlBtnGroup\">\n          <Toggle\n            clickHandler={toggleSort}\n            text={\n              state.order === \"asc\" ? (\n                <IntlMessages id=\"toggle.ascending\" />\n              ) : (\n                <IntlMessages id=\"toggle.descending\" />\n              )\n            }\n            icon={state.order === \"asc\" ? <UpOutlined /> : <DownOutlined />}\n            active={state.sortingMethod === \"chronological\"}\n          />\n          <Toggle\n            clickHandler={sortShuffle}\n            text={<IntlMessages id=\"toggle.shuffle\" />}\n            icon={<ShakeOutlined />}\n            active={state.sortingMethod === \"shuffle\"}\n          />\n          <Toggle\n            clickHandler={sortRotate}\n            text={<IntlMessages id=\"toggle.rotate\" />}\n            icon={<ReloadOutlined />}\n            active={state.sortingMethod === \"rotate\"}\n          />\n        </div>\n      </header>\n\n      <div className=\"isoSortableCardsContainer\">\n        <FlipMove\n          staggerDurationBy=\"30\"\n          duration={500}\n          enterAnimation={state.enterLeaveAnimation}\n          leaveAnimation={state.enterLeaveAnimation}\n          typeName=\"ul\"\n        >\n          {renderArticles()}\n\n          <footer key=\"foot\" className=\"isoAddRemoveControlBar\">\n            <div className=\"isoControlBtnGroup\">\n              <Toggle\n                clickHandler={() => moveArticle(\"removedArticles\", \"articles\")}\n                text={<IntlMessages id=\"toggle.addItem\" />}\n                icon={<AddIcon size={16} />}\n                active={state.removedArticles.length > 0}\n              />\n              <Toggle\n                clickHandler={() => moveArticle(\"articles\", \"removedArticles\")}\n                text={<IntlMessages id=\"toggle.removeItem\" />}\n                icon={<CloseIcon size={16} />}\n                active={state.articles.length > 0}\n              />\n            </div>\n          </footer>\n        </FlipMove>\n      </div>\n    </SortableCardWrapper>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}